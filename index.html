<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Life Progress</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Poppins', sans-serif;
        background: #f0f0f0;
        display: flex;
        justify-content: center;
        padding: 20px;
    }

    .progress-wrapper {
        display: flex;
        flex-direction: column;
        width: 90%;
        max-width: 600px;
        gap: 12px;
    }

    .progress-row {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .progress-title {
        width: 100px;
        font-weight: 600;
        text-transform: capitalize;
        color: #333;
        font-size: 14px;
        flex-shrink: 0;
    }

    .progress-bar-container {
        flex: 1;
        display: flex;
        height: 20px; /* barra maior */
        background: #e0e0e0; /* fundo cinza claro */
        border-radius: 12px;
        overflow: hidden;
        position: relative;
    }

    .progress-bar {
        height: 100%;
        transition: width 1s ease-in-out;
        border-radius: 12px 0 0 12px; /* arredondado apenas no início */
        display: flex;
        justify-content: flex-end; /* % no final do preenchimento */
        align-items: center;
        padding-right: 6px;
        color: #555; /* % cinza escuro */
        font-weight: 600;
        font-size: 12px;
        white-space: nowrap;
        box-sizing: border-box;
    }

    /* cores individuais para cada período */
    #year-progress { background: #FF5F7E; }
    #semester-progress { background: #FF9A5B; }
    #quarter-progress { background: #FFD25B; }
    #month-progress { background: #4CAF50; }
    #week-progress { background: #2196F3; }
    #day-progress { background: #9C27B0; }
</style>
</head>
<body>

<div class="progress-wrapper">
    <div class="progress-row">
        <div class="progress-title">Ano</div>
        <div class="progress-bar-container">
            <div class="progress-bar" id="year-progress">0%</div>
        </div>
    </div>
    <div class="progress-row">
        <div class="progress-title">Semestre</div>
        <div class="progress-bar-container">
            <div class="progress-bar" id="semester-progress">0%</div>
        </div>
    </div>
    <div class="progress-row">
        <div class="progress-title">Trimestre</div>
        <div class="progress-bar-container">
            <div class="progress-bar" id="quarter-progress">0%</div>
        </div>
    </div>
    <div class="progress-row">
        <div class="progress-title">Mês</div>
        <div class="progress-bar-container">
            <div class="progress-bar" id="month-progress">0%</div>
        </div>
    </div>
    <div class="progress-row">
        <div class="progress-title">Semana</div>
        <div class="progress-bar-container">
            <div class="progress-bar" id="week-progress">0%</div>
        </div>
    </div>
    <div class="progress-row">
        <div class="progress-title">Dia</div>
        <div class="progress-bar-container">
            <div class="progress-bar" id="day-progress">0%</div>
        </div>
    </div>
</div>

<script>
function updateProgress() {
    const now = new Date();
    const startOfYear = new Date(now.getFullYear(), 0, 1);
    const startOfSemester = new Date(now.getFullYear(), now.getMonth() < 6 ? 0 : 6, 1);
    const startOfQuarter = new Date(now.getFullYear(), Math.floor(now.getMonth()/3)*3, 1);
    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);

    const startOfWeek = new Date(now);
    startOfWeek.setHours(0,0,0,0);
    startOfWeek.setDate(now.getDate() - now.getDay()); // domingo

    const startOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate());

    function getProgress(start, end) {
        return Math.round(((now - start) / (end - start)) * 100);
    }

    function updateBar(idBar, progress) {
        const bar = document.getElementById(idBar);
        bar.style.width = progress + '%';
        bar.textContent = progress + '%';
        // bordas arredondadas no final se 100%
        if(progress >= 100) {
            bar.style.borderRadius = '12px';
        } else {
            bar.style.borderRadius = '12px 0 0 12px';
        }
    }

    updateBar("year-progress", getProgress(startOfYear,new Date(now.getFullYear()+1,0,1)));
    updateBar("semester-progress", getProgress(startOfSemester,new Date(startOfSemester.getFullYear(),startOfSemester.getMonth()+6,1)));
    updateBar("quarter-progress", getProgress(startOfQuarter,new Date(startOfQuarter.getFullYear(),startOfQuarter.getMonth()+3,1)));
    updateBar("month-progress", getProgress(startOfMonth,new Date(startOfMonth.getFullYear(),startOfMonth.getMonth()+1,1)));
    updateBar("week-progress", getProgress(startOfWeek,new Date(startOfWeek.getFullYear(),startOfWeek.getMonth(),startOfWeek.getDate()+7)));
    updateBar("day-progress", getProgress(startOfDay,new Date(startOfDay.getFullYear(),startOfDay.getMonth(),startOfDay.getDate()+1)));
}

updateProgress();
setInterval(updateProgress, 60000);
</script>

</body>
</html>
